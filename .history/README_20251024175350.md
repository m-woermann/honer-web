# Horner Audio - 3D Speaker Viewer

A modern 3D web application showcasing speaker systems with interactive wireframe visualization.

## Features

- **Interactive 3D Viewer**: Main page with rotating speaker stacks using Three.js
- **Product Gallery**: Dedicated products page with individual 3D model previews
- **Speaker Details**: Detailed specification pages for each speaker type
- **Wireframe Aesthetics**: Green wireframe rendering on dark backgrounds
- **Responsive Design**: Works on desktop and mobile devices
- **Configuration-Driven**: All content managed through JSON configuration

## Pages

### Home (`/`)
- Interactive 3D viewer showing speaker stack configurations
- Navigate between different system sizes (Small, Medium, Large)
- Clickable speakers show specifications overlay
- Bottom scrolling navigation banner

### Products (`/products`)
- Grid layout showcasing all speaker types
- Individual 3D wireframe previews for each product
- Detailed specifications and descriptions
- Direct links to speaker detail pages

### Speaker Detail (`/speaker-detail`)
- Full-page 3D model viewer (top third)
- Comprehensive specifications (bottom two-thirds)
- Rotating wireframe model with proper centering
- Back navigation and responsive layout

## Technology Stack

- **Framework**: Astro
- **3D Graphics**: Three.js with GLTF/DRACO loaders
- **Styling**: Pure CSS with CSS Grid and Flexbox
- **Fonts**: Michroma (headings) + Roboto (body text)
- **Color Scheme**: Dark theme with signature green accents (#42cc5d)

## Configuration System

The entire website is driven by `src/config/speakers.json`:

### Speaker Types
```json
{
  "speakerTypes": {
    "top": {
      "modelPath": "/speaker.glb",
      "name": "8\" + 1\" Passive Monitor",
      "description": "Passive 8-inch studio monitor with 1-inch tweeter",
      "specs": {
        "Power": "500W RMS",
        "Frequency Response": "90Hz - 20kHz",
        "Drivers": "8\" Woofer + 1\" Tweeter",
        "Connections": "Speakon",
        "Crossover": "4 Pole Active Crossover"
      }
    }
  }
}
```

### Stack Configurations
```json
{
  "stacks": [
    {
      "name": "Small System",
      "description": "4 Subwoofers with single top",
      "speakers": [
        {
          "type": "sub",
          "x": -185,
          "y": 0,
          "z": 0,
          "rotationY": 1.5707963267948966,
          "onGround": true
        }
      ]
    }
  ]
}
```

## File Structure

```
src/
├── components/
│   └── ThreeViewer.astro     # Main 3D viewer component
├── config/
│   ├── speakers.json         # Main configuration file
│   └── README.md            # Configuration documentation
├── pages/
│   ├── index.astro          # Home page
│   ├── products.astro       # Products gallery
│   └── speaker-detail.astro # Individual speaker details
├── types/
│   └── three-modules.d.ts   # TypeScript definitions
└── env.d.ts                 # Environment types

public/
├── speaker.glb              # Top speaker 3D model
└── sub.glb                  # Subwoofer 3D model
```

## 3D Rendering Approach

### Wireframe Visualization
- **Solid Base**: Dark mesh (#383e42) for structure
- **Green Edges**: Wireframe overlay (#42cc5d) for visual appeal
- **Edge Detection**: Uses Three.js EdgesGeometry with 15-degree threshold
- **Proper Centering**: Models centered using bounding box calculations
- **Smooth Rotation**: Continuous Y-axis rotation around center

### Technical Implementation
```javascript
// Create wireframe representation
const geometry = mesh.geometry.clone();
geometry.applyMatrix4(mesh.matrixWorld);

// Solid fill
const solidMaterial = new THREE.MeshBasicMaterial({ 
    color: 0x383e42,
    polygonOffset: true, 
    polygonOffsetFactor: 1, 
    polygonOffsetUnits: 1 
});

// Green wireframe edges
const edges = new THREE.EdgesGeometry(geometry, 15);
const lineMaterial = new THREE.LineBasicMaterial({ color: 0x42cc5d });
const wireframe = new THREE.LineSegments(edges, lineMaterial);
```

## Navigation System

### Banner Navigation
- Scrolling text banner at bottom of all pages
- Consistent styling across all pages
- Products link functional, others placeholder
- Bold font weight for better contrast

### Inter-Page Navigation
- Home → Products (via banner or direct)
- Products → Speaker Detail (via product card clicks)
- Speaker Detail → Back (browser back button)
- SessionStorage for data persistence

## Development Setup

1. **Install Dependencies**
   ```bash
   npm install
   ```

2. **Development Server**
   ```bash
   npm run dev
   ```

3. **Build for Production**
   ```bash
   npm run build
   ```

## Adding New Content

### New Speaker Type
1. Add 3D model (.glb) to `/public/`
2. Update `src/config/speakers.json` with new speaker type
3. System automatically generates product cards and detail pages

### New Stack Configuration
1. Add new stack object to `stacks` array in `speakers.json`
2. Define speaker positions, rotations, and types
3. Navigation arrows automatically include new stack

## Browser Support

- Modern browsers with WebGL support
- Three.js r134+ compatibility
- ES6 module support required
- Responsive design for mobile devices

## Performance Notes

- 3D models optimized with DRACO compression
- Efficient wireframe rendering using EdgesGeometry
- ResizeObserver for responsive canvas updates
- Smooth 60fps animations with requestAnimationFrame

---

Built with modern web technologies for optimal performance and visual appeal.